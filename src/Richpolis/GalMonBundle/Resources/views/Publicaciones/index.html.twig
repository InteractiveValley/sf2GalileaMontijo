{% extends "RichpolisBackendBundle::backend.html.twig" %}

{% block menu_horizontal %}
    {% include 'RichpolisBackendBundle:Default:menu_horizontal.html.twig' with {'pagina': 'publicaciones'} %}
{% endblock %}

{% block siderbar %}  
<ul class="nav nav-list">
    <li class="nav-header">Publicaciones</li>
    {% for key,value in tipos %}
    {% if key != tipo_publicacion %}    
    <li class="tipo-publicacion" tipo="{{key}}">
        <a href="{{path('publicaciones_por_tipo',{'tipo': key })}}">{{value}}</a>
    </li>
    {% else %}
    <li class="tipo-publicacion active" tipo="{{key}}">
        <a href="#">{{value}}</a>
    </li>
    {% endif %}
    {% endfor %}    
    <li class="nav-header">Papelera</li>
    <li id="papelera">
        <img src="{{asset('images/trash_grande.png')}}"/>
    </li>
</ul>
{% endblock %}

{% block body %}
<h1>Publicaciones</h1>

<table class="table table-hover records_list">
    <thead>
        <tr>
            <th>Id</th>
            <th>Titulo</th>
            <th>Publicacion</th>
            <th>Imagen</th>
            <th>Video</th>
            <th>Posicion</th>
            <th>Tipo</th>
            <th>Activo</th>
            <th>Creado</th>
            <th>Actualizado</th>
            <th>Acciones</th>
        </tr>
    </thead>
    <tbody>
    {% for entity in entities %}
        <tr>
            <td><a href="{{ path('publicaciones_show', { 'id': entity.id }) }}">{{ entity.id }}</a></td>
            <td>{{ entity.titulo }}</td>
            <td>{{ entity.publicacion | raw }}</td>
            <td><img src="{{ entity.webPath }}" style="max-height: 120px; max-width: 120px;"/></td>
            <td>{{ entity.linkvideo }}</td>
            <td>{{ entity.posicion }}</td>
            <td>{{ entity.stringtipopublicacion }}</td>
            <td>{{ entity.isactive | isActive | raw }}</td>
            <td>{% if entity.createdat %}{{ entity.createdat|date('d-m-Y H:i:s') }}{% endif%}</td>
            <td>{% if entity.updatedat %}{{ entity.updatedat|date('d-m-Y H:i:s') }}{% endif%}</td>
            <td>
                <ul class="nav">
                    <li>
                        <a class="btn btn-mini" href="{{ path('publicaciones_show', { 'id': entity.id }) }}">Mostrar</a>
                    </li>
                    <li>
                        <a class="btn btn-mini" href="{{ path('publicaciones_edit', { 'id': entity.id }) }}">Editar</a>
                    </li>
                </ul>
            </td>
        </tr>
    {% endfor %}
    </tbody>
</table>
<ul class="btn-group">
   <li>
       <a class="btn btn-primary" href="{{ path('publicaciones_new') }}">
           Nueva publicacion
       </a>
   </li>
</ul>

{% endblock %}